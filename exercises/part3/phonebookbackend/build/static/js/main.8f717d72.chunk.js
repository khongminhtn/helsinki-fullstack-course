(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{38:function(e,n,t){"use strict";t.r(n);var c=t(2),r=t(14),o=t.n(r),i=t(3),a=t(4),u=t.n(a),s="/api/persons",d=function(){return u.a.get(s).then((function(e){return e.data}))},j=function(e){return u.a.post(s,e).then((function(e){return e.data}))},l=function(e,n){return u.a.put("".concat(s,"/").concat(e),n).then((function(e){return e.data}))},f=function(e){return u.a.delete("".concat(s,"/").concat(e)).then((function(e){return e.data}))},b=t(0),m=function(e){var n=e.message,t={color:n.includes("Added")?"green":"red",fontSize:16,borderStyle:"solid",borderRadius:5,padding:10};return Object(b.jsx)("div",{style:n.length>0?t:null,children:n})},h=function(e){return Object(b.jsx)("div",{children:Object(b.jsxs)("div",{children:["filter shown with ",Object(b.jsx)("input",{onChange:e.filterNames})]})})},O=function(e){return Object(b.jsxs)("form",{children:[Object(b.jsxs)("div",{children:["name: ",Object(b.jsx)("input",{onChange:e.updateNewName})]}),Object(b.jsxs)("div",{children:["number: ",Object(b.jsx)("input",{onChange:e.updateNewNum})]}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{onClick:e.addPerson,type:"submit",children:"add"})})]})},p=function(e){return Object(b.jsx)("ul",{children:""===e.filteredNames?e.persons.map((function(n){return Object(b.jsxs)("li",{children:[n.name," ",n.number," ",Object(b.jsx)("button",{onClick:function(){return e.deletePerson(n.id,n.name)},children:"delete"})]},n.name)})):e.namesToDisplay.map((function(n){return Object(b.jsxs)("li",{children:[n.name,Object(b.jsx)("button",{onClick:function(){return e.deletePerson(n.id,n.name)},children:"delete"})]},n.name)}))})},x=function(){var e=Object(c.useState)([]),n=Object(i.a)(e,2),t=n[0],r=n[1],o=Object(c.useState)(""),a=Object(i.a)(o,2),u=a[0],s=a[1],x=Object(c.useState)(""),v=Object(i.a)(x,2),w=v[0],N=v[1],g=Object(c.useState)(""),k=Object(i.a)(g,2),y=k[0],C=k[1],S=Object(c.useState)(""),T=Object(i.a)(S,2),P=T[0],D=T[1];Object(c.useEffect)((function(){d().then((function(e){return r(e)}))}),[]);var I=t.filter((function(e){return e.name.toLowerCase().includes(y)}));return Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{children:"Phonebook"}),Object(b.jsx)(m,{message:P}),Object(b.jsx)(h,{filterNames:function(e){return C(e.target.value.toLowerCase())}}),Object(b.jsx)("h2",{children:"add a new"}),Object(b.jsx)(O,{updateNewName:function(e){return s(e.target.value)},updateNewNum:function(e){return N(e.target.value)},addPerson:function(e){e.preventDefault();var n={name:u,number:w},c=t.find((function(e){return e.name===u}));void 0===c?j(n).then((function(e){D("Added ".concat(n.name)),setTimeout((function(){D("")}),5e3),r(t.concat(e))})):l(c.id,n).then((function(e){window.confirm("".concat(n.name," is already added to phonebook, replace the old number with a new one ?")),D("Number is replaced for ".concat(c.name)),setTimeout((function(){D("")}),5e3),r(t.map((function(n){return n.id!==c.id?n:e})))})).catch((function(){D("Information of ".concat(n.name," has already been removed")),setTimeout((function(){D("")}),5e3)}))}}),Object(b.jsx)("h2",{children:"Numbers"}),Object(b.jsx)(p,{persons:t,namesToDisplay:I,filteredNames:y,deletePerson:function(e,n){f(e).then((function(){window.confirm("Delete ".concat(n)),D("Deleted ".concat(n)),setTimeout((function(){D("")}),5e3),r(t.filter((function(n){return n.id!==e})))})).catch((function(){D("Information of ".concat(n," has already been removed")),setTimeout((function(){D("")}),5e3)}))}})]})};o.a.render(Object(b.jsx)(x,{}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.8f717d72.chunk.js.map